(function(e){function t(t){for(var r,c,s=t[0],o=t[1],l=t[2],d=0,p=[];d<s.length;d++)c=s[d],Object.prototype.hasOwnProperty.call(a,c)&&a[c]&&p.push(a[c][0]),a[c]=0;for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r]);u&&u(t);while(p.length)p.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,s=1;s<n.length;s++){var o=n[s];0!==a[o]&&(r=!1)}r&&(i.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},a={index:0},i=[];function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/ffcfui/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],o=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var u=o;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"2b2f":function(e,t,n){"use strict";n("95c3")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7b17"),a=(n("cd74"),n("ab8b"),n("898b")),i=n("b7fd"),c=n("7a23"),s={class:"row g-1"};function o(e,t,n,r,a,i){var o=Object(c["r"])("BSNavBarNav"),l=Object(c["r"])("BSNavSearch"),u=Object(c["r"])("BSNavBar"),d=Object(c["r"])("Index"),p=Object(c["r"])("RecipeList"),h=Object(c["r"])("ShoppingList"),f=Object(c["r"])("CraftingGuide"),b=Object(c["r"])("CraftingDiagram");return Object(c["n"])(),Object(c["f"])(c["a"],null,[Object(c["j"])(u,{"nav-brand":"FFXIV Crafting Calculator","nav-class":"navbar-dark","toggle-id":"nav-main"},{default:Object(c["x"])((function(){return[Object(c["j"])(o,{items:e.views},null,8,["items"]),Object(c["j"])(l,{id:"searchBox",onSelect:i.onSelectRecipe},null,8,["onSelect"])]})),_:1}),Object(c["g"])("div",s,[Object(c["y"])(Object(c["j"])(d,{id:"index"},null,512),[[c["v"],e.views[0].active]]),Object(c["y"])(Object(c["j"])(p,{id:"recipeList",recipes:e.recipes,onItemChanged:i.onRecipeChanged,onItemRemoved:i.onRecipeRemoved},null,8,["recipes","onItemChanged","onItemRemoved"]),[[c["v"],!e.views[0].active]]),Object(c["y"])(Object(c["j"])(h,{id:"shoppingList",nodes:i.shoppingData,onSort:i.onShoppingSorted},null,8,["nodes","onSort"]),[[c["v"],e.views[1].active]]),Object(c["y"])(Object(c["j"])(f,{id:"craftingGuide",nodes:e.nodes,links:e.links},null,8,["nodes","links"]),[[c["v"],e.views[2].active]]),Object(c["y"])(Object(c["j"])(b,{id:"sankeyDiagram",nodes:e.nodes,links:e.links},null,8,["nodes","links"]),[[c["v"],e.views[3].active]])])],64)}var l=n("53ca"),u=n("1da1"),d=(n("96cf"),n("d3b7"),n("3ca3"),n("ddb0"),n("2b3d"),n("ac1f"),n("841c"),n("b0c0"),n("4e82"),n("c740"),n("99af"),n("a434"),n("caad"),n("2532"),n("159b"),{class:"container"}),p={class:"navbar-brand",href:"#"},h=["data-bs-target","aria-controls"],f=Object(c["g"])("span",{class:"navbar-toggler-icon"},null,-1),b=[f],m=["id"];function g(e,t,n,r,a,i){return Object(c["n"])(),Object(c["f"])("nav",{class:Object(c["m"])(["navbar navbar-expand-lg",n.navClass?n.navClass:""])},[Object(c["g"])("div",d,[Object(c["g"])("a",p,Object(c["s"])(n.navBrand),1),Object(c["g"])("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#"+n.toggleId,"aria-controls":n.toggleId,"aria-expanded":"false","aria-label":"Toggle navigation"},b,8,h),Object(c["g"])("div",{class:"collapse navbar-collapse",id:n.toggleId},[Object(c["q"])(e.$slots,"default")],8,m)])],2)}var v={name:"BSNavBar",props:{navClass:String,navBrand:String,toggleId:String}};v.render=g;var j=v,O={class:"navbar-nav me-auto mb-2 mb-lg-0"},I=["aria-current","onClick"];function k(e,t,n,r,a,i){return Object(c["n"])(),Object(c["f"])("ul",O,[(Object(c["n"])(!0),Object(c["f"])(c["a"],null,Object(c["p"])(n.items,(function(e){return Object(c["n"])(),Object(c["f"])("li",{key:e.name,class:"nav-item"},[Object(c["g"])("a",{class:Object(c["m"])(["nav-link",{active:e.active}]),href:"#","aria-current":e.active?"page":"",onClick:function(t){return i.switchView(e)}},Object(c["s"])(e.text),11,I)])})),128))])}var x={name:"BSNavBarNav",props:{items:{type:Array}},methods:{switchView:function(e){e.active||(this.items.forEach((function(t){t!==e&&(t.active=!1)})),e.active=!0,this.$emit("switchView",e))}}};x.render=k;var y=x,w=["id"];function N(e,t,n,r,a,i){var s=Object(c["r"])("Multiselect");return Object(c["n"])(),Object(c["f"])("form",{class:"d-flex",id:n.id},[Object(c["j"])(s,{id:"ac-"+n.id,onSelect:i.onSelect,placeholder:"Search",filterResults:!1,minChars:3,resolveOnLoad:!1,delay:250,searchable:!0,options:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i.search(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),classes:{search:"multiselect-search form-control",noOptions:"visually-hidden"}},null,8,["id","onSelect","options"])],8,w)}n("d81d");var R=n("a306"),C={name:"BSNavSearch",props:{id:String},components:{Multiselect:R["a"]},methods:{onSelect:function(e,t){this.$emit("select",e,t)},search:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(a["c"])("https://xivapi.com/search?indexes=recipe&limit=10&string="+t);case 2:return n=e.sent,e.abrupt("return",n.Results.map((function(e){return{value:e.ID,label:e.Name}})));case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}};n("d742"),n("2b2f");C.render=N;var D=C,S={class:"container"},B=Object(c["g"])("h1",{class:"display-6 text-light"},"Diagram",-1),L=Object(c["g"])("div",{class:"d-flex justify-content-center"},[Object(c["g"])("div",{class:"container"},[Object(c["g"])("div",{class:"svg-container"})])],-1),F=[B,L];function M(e,t,n,r,a,i){return Object(c["n"])(),Object(c["f"])("div",S,F)}n("a9e3"),n("6062"),n("a15b");var A={name:"CraftingDiagram",props:{align:{type:Function,default:i["b"]},color:{type:Function,default:function(){var e=Object(a["d"])(a["e"]);return function(t){return e(t.Name)}}()},combineNodes:{type:Boolean,default:!1},format:{type:Function,default:Object(a["b"])(",.0f")},height:{type:Number,default:400},links:Array,nodes:Array,width:{type:Number,default:900}},computed:{sankey:function(){return Object(i["a"])().nodeId((function(e){return e.ItemID})).nodeWidth(20).nodePadding(10).extent([[1,5],[this.width-1,this.height-5]]).nodeAlign(this.align)}},methods:{generateSvg:function(){var e=this;if(this.nodes.length>0){var t=Object(a["a"])("svg").attr("viewBox",[0,0,this.width,this.height]),n={nodes:Object(c["t"])(this.nodes),links:Object(c["t"])(this.links)},r=this.sankey(n);if(this.combineNodes){for(var s={},o=[],u=0;u<r.nodes.length;u++){var d=r.nodes[u];if(d.ItemID<0){var p="".concat(d.Name,"_").concat(d.depth);if("object"===Object(l["a"])(s[p]))for(var h=0;h<r.links.length;h++){var f=r.links[h];f.source.ItemID===d.ItemID&&(o.push(d.ItemID),f.source=s[p].ItemID),f.target.ItemID===d.ItemID&&(o.push(d.ItemID),f.target=s[p].ItemID)}else s[p]=d}}o.length>0&&(new Set(o).forEach((function(e){var t=r.nodes.findIndex((function(t){return t.ItemID===e}));t>=0&&r.nodes.splice(t,1)})),r=this.sankey(r))}t.append("g").selectAll("rect").data(r.nodes).join("rect").attr("class","s-node").attr("x",(function(e){return e.x0})).attr("y",(function(e){return e.y0})).attr("height",(function(e){return e.y1-e.y0})).attr("width",(function(e){return e.x1-e.x0})).attr("fill",this.color).append("title").text((function(e){return e.ItemID>=0?"".concat(e.Name," x").concat(e.value):e.Name}));var b=t.append("g").attr("fill","none").attr("stroke-opacity",.5).selectAll("g").data(r.links).join("g");return b.append("path").attr("d",Object(i["c"])()).attr("class","s-link").attr("stroke",(function(t){return e.color(t.source)})).attr("stroke-width",(function(e){return Math.max(1,e.width)})),b.append("title").text((function(e){return e.source.ItemID>=0?"".concat(e.source.Name," x").concat(e.value," → ").concat(e.target.Name):"".concat(e.source.Name," → ").concat(e.target.Name," x").concat(e.target.value)})),t.append("g").attr("font-family","sans-serif").attr("font-size",10).selectAll("text").data(r.nodes).join("text").attr("x",(function(t){return t.x0<e.width/2?t.x1+6:t.x0-6})).attr("y",(function(e){return(e.y1+e.y0)/2})).attr("dy","0.35em").attr("fill","#FFF").attr("text-anchor",(function(t){return t.x0<e.width/2?"start":"end"})).text((function(e){return"".concat(e.Name)})),t.node()}return null}},watch:{nodes:{deep:!0,handler:function(){var e=this.generateSvg(),t=this.$el.getElementsByClassName("svg-container")[0];t.innerHTML="",t.append(e)}}}};n("dd7c");A.render=M;var P=A,T=["src"];function E(e,t,n,r,a,i){return Object(c["n"])(),Object(c["f"])("span",null,[Object(c["g"])("img",{src:n.url+n.imageId,class:"ff14-icon"},null,8,T)])}var _={name:"FF14Icon",props:{imageId:String,url:{type:String,default:"https://xivapi.com"}}};n("ad78");_.render=E;var $=_,q={name:"CraftingGuide",components:{FF14Icon:$},props:{links:Array,nodes:Array},render:function(){for(var e=this,t=[],n=[],r=0;r<this.nodes.length;r++){var a=this.nodes[r];a.ItemID<0&&n.push({depth:a.depth,name:a.Name,ItemID:a.ItemID,node:a})}var i=[];n.sort((function(e,t){return e.depth-t.depth||e.name.localeCompare(t.name)}));for(var s=function(r){var a=n[r];if(a.ItemID<0){var s=[Object(c["k"])("div",{class:"fw-bold"},a.name)];if(e.links.forEach((function(e){if(e.source.Name===a.node.Name&&e.source.depth===a.node.depth&&i.indexOf(e)<0){var t=Object(c["k"])($,{"image-id":e.target.Icon,title:e.target.Description}),n=Object(c["k"])("span",{class:"ms-2"},"".concat(e.target.value,"x ").concat(e.target.Name)),r=Object(c["k"])("i",{"data-bs-html":!0,"data-bs-toggle":"popover","data-bs-trigger":"hover click","data-bs-title":e.target.Name,"data-bs-content":e.target.Popover,title:e.target.Name,class:"bi bi-question-circle recipe-popover ms-1"}),o=Object(c["k"])("i",{class:"bi bi-link"}),l=Object(c["k"])("a",{href:"https://na.finalfantasyxiv.com/lodestone/playguide/db/search/?q="+e.target.Name,target:"_blank",class:"ms-1 link-dark",title:"Search Eorzea Database for '"+e.target.Name+"'"},o);s.push(Object(c["k"])("p",null,t,n,r,l)),i.push(e)}})),s.length>1){var o=Object(c["k"])("div",{class:"ms-2 me-auto"},s),l=Object(c["k"])("li",{class:"list-group-item d-flex align-items-start"},o);t.push(l)}}},o=0;o<n.length;o++)s(o);var l=Object(c["k"])("ul",{class:"list-group list-group-numbered"},t),u=Object(c["k"])("h1",{class:"display-6 text-light"},"Crafting Guide");return Object(c["k"])("div",{class:"container"},u,l)},updated:function(){for(var e=document.getElementsByClassName("recipe-popover"),t=0;t<e.length;t++){var n=e.item(t),a=r["a"].getInstance(n);a&&a.dispose(),r["a"].getOrCreateInstance(n)}}},G=q,z={class:"text-light"},J=Object(c["h"])('<h1 class="display-6">Welcome :3</h1><p> This app is inspired by the countless factory game calculators out there for games like Factorio, Satisfactory, etc. that are sooo helpful when trying to figure out what you need when building your stuff. </p><p> I was shocked to find that nothing like this existed for FF14 when I started crafting since I had grown accustomed to being able to use one of these and instantly knowing how much of what and in what order I needed them in. </p><p> I made this entirely from scratch but this site is <em>heavily</em> inspired by the wonderful <a href="https://kirkmcdonald.github.io/" class="link-info">kirkmcdonald.github.io</a> so please check that out ~! </p><hr><h1 class="display-6">Changelog</h1><dl><dt>2020/09/01</dt><dd> Added popups for recipes with level requirements </dd><dd> Added links to Eorzea DB for items and recipes (searches only?) </dd><dt>2020/08/31</dt><dd> Quantity fields should work again (<a href="https://github.com/oliviadetrick/ffcfui/issues/3" class="link-info">#3</a>) </dd><dt>2020/08/30</dt><dd> Recipes that contain recipes should work now (<a href="https://github.com/oliviadetrick/ffcfui/issues/2" class="link-info">#2</a>) </dd><dd>Added highlighting to links when you hover over them. This will likely change in the future.</dd></dl><hr><p> Check out the source code on <a href="https://github.com/oliviadetrick/ffcfui" class="link-info">Github</a>! </p>',9),U=[J];function V(e,t,n,r,a,i){return Object(c["n"])(),Object(c["f"])("div",z,U)}var Q={name:"Index"};Q.render=V;var H=Q,W={class:"container"},X=Object(c["g"])("h1",{class:"display-6 text-light"},"Recipes",-1),K={class:"list-group"},Y={class:"row"},Z=["for"],ee=["title","data-bs-title","data-bs-content"],te=["href","title"],ne=Object(c["g"])("i",{class:"bi bi-link"},null,-1),re=[ne],ae={class:"col-sm-8"},ie={class:"input-group"},ce=["name","onChange","value","title"],se=["onClick"];function oe(e,t,n,r,a,i){var s=Object(c["r"])("FF14Icon");return Object(c["n"])(),Object(c["f"])("div",W,[X,Object(c["g"])("ul",K,[(Object(c["n"])(!0),Object(c["f"])(c["a"],null,Object(c["p"])(n.recipes,(function(e){return Object(c["n"])(),Object(c["f"])("li",{key:e.ID,class:"list-group-item"},[Object(c["g"])("div",Y,[Object(c["g"])("label",{class:"col-sm-4 col-form-label",for:"recipe-".concat(e.ID)},[Object(c["j"])(s,{"image-id":e.ItemResult.Icon},null,8,["image-id"]),Object(c["i"])(" "+Object(c["s"])(e.ItemResult.Name)+" ",1),Object(c["g"])("i",{"data-bs-html":"true","data-bs-toggle":"popover","data-bs-trigger":"hover click",title:e.ItemResult.Name,"data-bs-title":e.ItemResult.Name,"data-bs-content":i.getItemDetails(e),class:"bi bi-question-circle recipe-popover"},null,8,ee),Object(c["g"])("a",{href:"https://na.finalfantasyxiv.com/lodestone/playguide/db/search/?q="+e.ItemResult.Name,target:"_blank",class:"ms-1 link-dark",title:"Search Eorzea Database for '"+e.ItemResult.Name+"'"},re,8,te)],8,Z),Object(c["g"])("div",ae,[Object(c["g"])("div",ie,[Object(c["g"])("input",{class:"form-control",type:"number",name:"recipe-".concat(e.ID),onChange:function(t){return i.itemChanged(e,t)},value:e.Multiplier,title:"Quantity of "+e.ItemResult.Name,placeholder:"Quantity",min:"1"},null,40,ce),Object(c["g"])("button",{class:"btn btn-outline-danger",type:"button",onClick:function(t){return i.itemRemoved(e)},title:"Delete"}," X ",8,se)])])])])})),128))])])}var le={name:"RecipeList",components:{FF14Icon:$},updated:function(){for(var e=document.getElementsByClassName("recipe-popover"),t=0;t<e.length;t++){var n=e.item(t),a=r["a"].getInstance(n);a&&a.dispose(),r["a"].getOrCreateInstance(n)}},props:{recipes:Array},methods:{getItemDetails:function(e){var t="<strong>".concat(e.CraftType.Name," lvl ").concat(e.RecipeLevelTable.ClassJobLevel,"</strong>");return e.SecretRecipeBook&&(t+="<br/>".concat(e.SecretRecipeBook.Name)),e.ItemResult.Description.length>0&&(e+="<br/><em>".concat(e.ItemResult.Description,"<em>")),t},itemChanged:function(e,t){this.$emit("itemChanged",e,parseInt(t.srcElement.value))},itemRemoved:function(e){this.$emit("itemRemoved",e)}}};le.render=oe;var ue=le,de={class:"container"},pe=Object(c["g"])("h1",{class:"display-6 text-light"},"Materials List",-1),he={class:"list-group bg-dark"},fe={class:"list-group-item"},be={class:"container"},me={class:"row"},ge={class:"col-2"},ve={class:"col-2"},je={class:"col-8"},Oe={class:"container"},Ie={class:"row"},ke={class:"col-2"},xe=["title"],ye={class:"col-2"},we={class:"badge rounded-pill bg-secondary"},Ne={class:"col-8"},Re={class:"ms-2"},Ce=["href","title"],De=Object(c["g"])("i",{class:"bi bi-link"},null,-1),Se=[De];function Be(e,t,n,r,a,i){var s=Object(c["r"])("SortColumnLink"),o=Object(c["r"])("FF14Icon");return Object(c["n"])(),Object(c["f"])("div",de,[pe,Object(c["g"])("div",he,[Object(c["g"])("label",fe,[Object(c["g"])("div",be,[Object(c["g"])("div",me,[Object(c["g"])("div",ge,[Object(c["j"])(s,{text:"Completed"})]),Object(c["g"])("div",ve,[Object(c["j"])(s,{"column-name":"count",text:"Count",title:"Sort Count",onClick:i.sort},null,8,["onClick"])]),Object(c["g"])("div",je,[Object(c["j"])(s,{"column-name":"name",text:"Name",title:"Sort Name",onClick:i.sort},null,8,["onClick"])])])])]),(Object(c["n"])(!0),Object(c["f"])(c["a"],null,Object(c["p"])(i.rawMaterials,(function(e){return Object(c["n"])(),Object(c["f"])("label",{key:e.ItemID,class:"list-group-item"},[Object(c["g"])("div",Oe,[Object(c["g"])("div",Ie,[Object(c["g"])("div",ke,[Object(c["g"])("input",{class:"form-check-input me-1",type:"checkbox",title:e.value+" "+e.Name},null,8,xe)]),Object(c["g"])("div",ye,[Object(c["g"])("span",we,Object(c["s"])(e.value),1)]),Object(c["g"])("div",Ne,[Object(c["j"])(o,{"image-id":e.Icon,title:e.Description},null,8,["image-id","title"]),Object(c["g"])("span",Re,Object(c["s"])(e.Name),1),Object(c["g"])("a",{href:"https://na.finalfantasyxiv.com/lodestone/playguide/db/search/?q="+e.Name,target:"_blank",class:"ms-1 link-dark",title:"Search Eorzea Database for '"+e.Name+"'"},Se,8,Ce)])])])])})),128))])])}n("4de4");var Le=["title"];function Fe(e,t,n,r,a,i){return Object(c["n"])(),Object(c["f"])("a",{href:"#",class:"btn btn-sm btn-outline-dark",onClick:t[0]||(t[0]=function(){return i.onClick&&i.onClick.apply(i,arguments)})},[Object(c["g"])("span",{class:"col-head-check",title:n.title},[Object(c["g"])("i",{class:Object(c["m"])(i.icon)},null,2),Object(c["i"])(" "+Object(c["s"])(n.text),1)],8,Le)])}var Me={name:"SortColumnLink",props:{alphabetic:{type:Boolean,default:!1},columnName:String,text:String,title:String},data:function(){return{sortDirection:null}},computed:{icon:function(){return"asc"===this.sortDirection?this.alphabetic?"bi bi-sort-alpha-down":"bi bi-sort-down":"desc"===this.sortDirection?this.alphabetic?"bi bi-sort-alpha-up":"bi bi-sort-up":""}},methods:{onClick:function(){this.$emit("click",this)}}};Me.render=Fe;var Ae=Me,Pe={name:"ShoppingList",components:{FF14Icon:$,SortColumnLink:Ae},props:{nodes:Array},computed:{rawMaterials:function(){return this.nodes.filter((function(e){return!0===e.Resource}))}},methods:{sort:function(e){this.$emit("sort",e)}}};Pe.render=Be;var Te=Pe,Ee={name:"App",components:{BSNavBar:j,BSNavBarNav:y,BSNavSearch:D,CraftingDiagram:P,CraftingGuide:G,Index:H,RecipeList:ue,ShoppingList:Te},created:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=new URLSearchParams(window.location.search),n=0,r=t.get("i".concat(n));case 3:if(null===r){e.next=17;break}return e.next=6,this.getRecipe(r);case 6:if(a=e.sent,null==a){e.next=14;break}return e.next=10,this.addRecipe(a);case 10:i=parseInt(t.get("a".concat(n))),i!==i&&(i=1),a.Multiplier=i,this.recipes.push(a);case 14:r=t.get("i".concat(++n)),e.next=3;break;case 17:n>0&&(this.views[0].active=!1,this.views[1].active=!0);case 18:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),data:function(){return{craftingIndex:0,nodeIDs:[],nodes:[],recipes:[],recipeCache:[],links:[],sortInfo:{shopping:{count:null,done:null,name:null}},views:[{active:!0,text:"Home",name:"index"},{active:!1,text:"Materials List",name:"list"},{active:!1,text:"Crafting Guide",name:"craftguide"},{active:!1,text:"Diagram",name:"diagram"}]}},computed:{shoppingData:function(){var e,t=this.nodes;return"string"===typeof this.sortInfo.shopping.count&&(e="asc"===this.sortInfo.shopping.count?function(e,t){return e.value-t.value}:function(e,t){return t.value-e.value}),"string"===typeof this.sortInfo.shopping.name&&(e="function"===typeof e?"asc"===this.sortInfo.shopping.name?function(e,t){return e.value-t.value||e.Name.localeCompare(t.Name)}:function(e,t){return t.value-e.value||t.Name.localeCompare(e.Name)}:"asc"===this.sortInfo.shopping.name?function(e,t){return e.Name.localeCompare(t.Name)}:function(e,t){return t.Name.localeCompare(e.Name)}),t.sort(e)}},methods:{addRecipe:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,i,c,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=this.getNode(t.ID),null===n&&(n=this.createNode(t),n.Resource=!1,n.CraftNode=this.createCraftNode(t.CraftType),this.createLink(n.CraftNode,n,t.AmountResult*t.Multiplier)),r=null,a=0;case 4:if(!(a<=9)){e.next=25;break}if(i=parseInt(t["AmountIngredient"+a]),!(i>0)){e.next=22;break}if(c=t["ItemIngredientRecipe"+a],"object"!==Object(l["a"])(c)||null===c){e.next=19;break}return Array.isArray(c)&&(c=c[0]),e.next=12,this.getRecipe(c.ID);case 12:return c=e.sent,c.Multiplier=t.Multiplier*i,e.next=16,this.addRecipe(c);case 16:r=e.sent,e.next=21;break;case 19:s=t["ItemIngredient"+a],"object"===Object(l["a"])(s)&&null!==s&&(r=this.getOrCreateNode(s));case 21:null!==r&&this.createLink(r,n.CraftNode,i*t.Multiplier);case 22:a++,e.next=4;break;case 25:return e.abrupt("return",n);case 26:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),addRecipeToShoppingList:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=this.recipes.findIndex((function(e){return e.ID===t})),n<0&&(n=this.recipeCache.findIndex((function(e){return e.ID===t}))),!(n<0)){e.next=16;break}return e.next=5,Object(a["c"])("https://xivapi.com/recipe/"+t);case 5:if(r=e.sent,"object"!==Object(l["a"])(r)){e.next=15;break}return this.views[0].active&&(this.views[0].active=!1,this.views[1].active=!0),r.Multiplier=1,this.recipes.push(r),this.recipeCache.push(r),e.next=13,this.addRecipe(r);case 13:return this.updateURL(),e.abrupt("return",r);case 15:return e.abrupt("return",null);case 16:return e.abrupt("return",this.recipes[n]);case 17:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),createCraftNode:function(e){this.craftingIndex=this.craftingIndex-1;var t={ItemID:this.craftingIndex,Name:e.Name};return this.pushNode(t),t},createLink:function(e,t,n){var r={source:e.ItemID,target:t.ItemID,value:n};return this.links.push(r),r},createNode:function(e){var t={ItemID:e.ID,Name:e.Name,Description:e.Description,Resource:"undefined"===typeof e.Recipe,Icon:e.Icon};return e.CraftType&&(t.Popover="<strong>".concat(e.CraftType.Name," lvl ").concat(e.RecipeLevelTable.ClassJobLevel,"</strong>"),e.SecretRecipeBook&&(t.Popover=t.Popover+"<br/>".concat(e.SecretRecipeBook.Name)),e.ItemResult.Description.length>0&&(t.Description=e.ItemResult.Description,t.Popover=t.Popover+"<br/><em>".concat(e.ItemResult.Description,"<em>"))),this.pushNode(t),t},getNode:function(e){var t=this.nodes.findIndex((function(t){return t.ItemID===e}));return t>=0?this.nodes[t]:null},getOrCreateNode:function(e){var t=this.getNode(e.ID);return null===t&&(t=this.createNode(e)),t},getRecipe:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=this.recipeCache.findIndex((function(e){return e.ID===t})),!(n<0)){e.next=10;break}return e.next=4,Object(a["c"])("https://xivapi.com/recipe/"+t);case 4:if(r=e.sent,"object"!==Object(l["a"])(r)){e.next=9;break}return r.Multiplier=1,this.recipeCache.push(r),e.abrupt("return",r);case 9:return e.abrupt("return",null);case 10:return e.abrupt("return",this.recipeCache[n]);case 11:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),onRecipeChanged:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=this.recipeCache.findIndex((function(e){return e.ID===t.ID})),!(r>=0&&t.Multiplier>0)){e.next=5;break}return this.recipeCache[r].Multiplier=n,e.next=5,this.rebuild();case 5:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}(),onRecipeRemoved:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=this.recipes.indexOf(t),!(n>=0)){e.next=5;break}return this.recipes.splice(n,1),e.next=5,this.rebuild();case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),onSelectRecipe:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.addRecipeToShoppingList(t);case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),onShoppingSorted:function(e){if(!(e instanceof PointerEvent)){var t=this.sortInfo.shopping[e.columnName];t=null===t?"asc":"asc"===t?"desc":null,e.sortDirection=t,this.sortInfo.shopping[e.columnName]=t}},pushNode:function(e){this.nodeIDs.includes(e.ItemID)||(this.nodeIDs.push(e.ItemID),this.nodes.push(e))},rebuild:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.links.splice(0,this.links.length),this.nodes.splice(0,this.nodes.length),this.nodeIDs.splice(0,this.nodeIDs.length),this.recipeCache.splice(0,this.recipeCache.length),this.craftingIndex=0,t=0;case 6:if(!(t<this.recipes.length)){e.next=12;break}return e.next=9,this.addRecipe(this.recipes[t]);case 9:t++,e.next=6;break;case 12:this.updateURL();case 13:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),updateURL:function(){var e="",t=0;this.recipes.forEach((function(n){e+=0===t?"?":"&",e+="i".concat(t,"=").concat(n.ID,"&a").concat(t,"=").concat(n.Multiplier),t++})),0===e.length?window.history.replaceState(null,null,"?"):window.history.replaceState(null,null,e)}}};Ee.render=o;var _e=Ee;Object(c["c"])(_e).mount("#app")},"95c3":function(e,t,n){},ad78:function(e,t,n){"use strict";n("b50b")},b50b:function(e,t,n){},c1b1:function(e,t,n){},dd7c:function(e,t,n){"use strict";n("c1b1")}});
//# sourceMappingURL=index.846f8b1c.js.map